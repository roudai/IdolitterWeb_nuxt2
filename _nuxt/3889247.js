(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{371:function(e,t,r){"use strict";r.r(t);r(50);var n=r(32),c=r(6),o=(r(38),r(77),r(56),r(78),r(46),r(27)),l={data:function(){return{initialName:"",initialUserId:"",name:"",userId:""}},beforeCreate:function(){var e=this;setTimeout(Object(c.a)(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(o.j)(),n=e.$store.getters["auth/uid"],t.next=4,Object(o.h)(Object(o.g)(r,"users",n));case 4:c=t.sent,e.name=c.data().displayName,e.userId=c.data().user,e.initialName=e.name,e.initialUserId=e.userId;case 9:case"end":return t.stop()}}),t)}))))},methods:{register:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,c,l,d,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.name===e.initialName&&e.userId===e.initialUserId){t.next=17;break}return r=Object(o.j)(),t.next=4,Object(o.h)(Object(o.g)(r,"users","admin"));case 4:if(c=t.sent,!Object.keys(c.data().users).includes(e.userId)){t.next=8;break}return e.$errorDialog(e.$buefy,"このIDは他のユーザーが使用済みのため利用できません。"),t.abrupt("return");case 8:return l=e.$store.getters["auth/uid"],t.next=11,Object(o.o)(Object(o.g)(r,"users",l),{displayName:e.name,user:e.userId});case 11:return d="users."+e.initialUserId,t.next=14,Object(o.o)(Object(o.g)(r,"users","admin"),Object(n.a)({},d,Object(o.f)()));case 14:return m="users."+e.userId,t.next=17,Object(o.o)(Object(o.g)(r,"users","admin"),Object(n.a)({},m,l));case 17:e.$router.push("/mypage");case 18:case"end":return t.stop()}}),t)})))()}}},d=r(37),component=Object(d.a)(l,(function(){var e=this,t=e._self._c;return t("div",[t("h4",[e._v("会員登録ありがとうございます！")]),e._v(" "),t("div",{staticClass:"columns"},[t("div",{staticClass:"column is-4"},[t("b-field",{attrs:{label:"名前",horizontal:""}},[t("b-input",{model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),t("b-field",{attrs:{label:"ID",horizontal:""}},[t("b-input",{model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}})],1)],1)]),e._v(" "),t("div",{staticClass:"buttons"},[t("b-button",{attrs:{type:"is-link is-light"},on:{click:e.register}},[e._v("登録")])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);