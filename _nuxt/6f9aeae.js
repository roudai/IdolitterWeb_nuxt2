(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{342:function(t,e,r){var content=r(365);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(59).default)("cfe856e2",content,!0,{sourceMap:!1})},364:function(t,e,r){"use strict";r(342)},365:function(t,e,r){var n=r(58)((function(i){return i[1]}));n.push([t.i,".content ul{margin-left:0;margin-top:0}",""]),n.locals={},t.exports=n},387:function(t,e,r){"use strict";r.r(e);r(50);var n=r(6),o=(r(38),r(78),r(14),r(43),r(27)),c={data:function(){return{created:!1,total:100,perPage:10,current:1,pastCurrent:1,isSimple:!0,querySnapshot:null,show:!0,profileShow:!0,name:"",group:"",twitterId:"",instax_totalling:[],columns:[{label:"",field:"edit",tdClass:"add-text",sortable:!1},{label:"日付",field:"date"},{label:"枚数",field:"number",type:"number"},{label:"会場名",field:"place"},{label:"イベント名",field:"event"},{label:"URL",field:"url",tdClass:"add-text",sortable:!1},{label:"Document ID",field:"docId",hidden:!0,globalSearchDisabled:!1}],rows:[]}},beforeCreate:function(){var t=this;setTimeout(Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(o.l)(),n=t.$store.getters["auth/uid"],c=t.$route.params.uid,e.next=5,Object(o.j)(Object(o.g)(r,"users",n,"idol",c));case 5:return(l=e.sent).exists()?(t.group=l.data().group,t.name=l.data().name,t.twitterId=l.data().twitterId,t.instax_totalling=l.data().instax_totalling):t.show=!1,e.next=9,Object(o.i)(Object(o.d)(r,"users",n,"idol",c,"instax"));case 9:return d=e.sent,t.total=d.data().count,t.current=1,e.next=14,Object(o.k)(Object(o.q)(Object(o.d)(r,"users",n,"idol",c,"instax"),Object(o.p)("date","desc"),Object(o.n)(t.perPage)));case 14:t.querySnapshot=e.sent,t.querySnapshot.forEach((function(e){t.rows.push({edit:"編集",date:t.$dayjs(e.data().date.toDate()).format("YYYY/MM/DD"),number:e.data().number,url:e.data().url,place:e.data().place,event:e.data().event,docId:e.id})})),t.pastCurrent=t.current,t.created=!0;case 18:case"end":return e.stop()}}),e)}))),0)},methods:{onCellClick:function(t){"url"===t.column.field?""!==t.row.url&&window.open(t.row.url,"_blank"):"edit"===t.column.field&&this.$router.push("/mypage/"+this.$route.params.uid+"/"+t.row.docId)},changePage:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(o.l)(),n=t.$store.getters["auth/uid"],c=t.$route.params.uid,!(t.current-t.pastCurrent>0)){e.next=11;break}return l=t.querySnapshot.docs[t.querySnapshot.docs.length-1],e.next=8,Object(o.k)(Object(o.q)(Object(o.d)(r,"users",n,"idol",c,"instax"),Object(o.p)("date","desc"),Object(o.s)(l),Object(o.n)(t.perPage)));case 8:t.querySnapshot=e.sent,e.next=15;break;case 11:return d=t.querySnapshot.docs[0],e.next=14,Object(o.k)(Object(o.q)(Object(o.d)(r,"users",n,"idol",c,"instax"),Object(o.p)("date","desc"),Object(o.h)(d),Object(o.o)(t.perPage)));case 14:t.querySnapshot=e.sent;case 15:t.rows=[],t.querySnapshot.forEach((function(e){t.rows.push({edit:"編集",date:t.$dayjs(e.data().date.toDate()).format("YYYY/MM/DD"),number:e.data().number,url:e.data().url,place:e.data().place,event:e.data().event,docId:e.id})})),t.pastCurrent=t.current;case 18:case"end":return e.stop()}}),e)})))()},clickEdit:function(){this.profileShow=!1},clickUpdate:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(o.l)(),n=t.$store.getters["auth/uid"],c=t.$route.params.uid,e.next=5,Object(o.r)(Object(o.g)(r,"users",n,"idol",c),{name:t.name,group:t.group,twitterId:t.twitterId,instax_totalling:t.instax_totalling});case 5:t.profileShow=!0;case 6:case"end":return e.stop()}}),e)})))()},deleteInstax:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Object(o.l)(),c=e.$store.getters["auth/uid"],l=e.$route.params.uid,d=t.row.docId,r.next=6,Object(o.e)(Object(o.g)(n,"users",c,"idol",l,"instax",d));case 6:e.$buefy.dialog.alert({message:"削除しました。",onConfirm:function(){return location.reload()}});case 7:case"end":return r.stop()}}),r)})))()}}},l=(r(364),r(37)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return t.created?e("div",[t.profileShow?e("div",[e("h3",[t._v(t._s(t.name))]),t._v(" "),e("h4",[t._v(t._s(t.group))]),t._v(" "),e("div",{staticClass:"buttons mt-3 mb-3"},[e("b-button",{attrs:{type:"is-link is-light"},on:{click:t.clickEdit}},[t._v("編集")])],1)]):e("div",[e("b-field",[e("b-input",{attrs:{expanded:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),e("b-input",{attrs:{expanded:""},model:{value:t.twitterId,callback:function(e){t.twitterId=e},expression:"twitterId"}})],1),t._v(" "),e("b-field",[e("b-input",{model:{value:t.group,callback:function(e){t.group=e},expression:"group"}})],1),t._v(" "),e("div",{staticClass:"buttons mt-3 mb-3"},[e("b-button",{attrs:{type:"is-link is-light"},on:{click:t.clickUpdate}},[t._v("更新")])],1)],1),t._v(" "),e("b-pagination",{attrs:{total:t.total,"per-page":t.perPage,simple:t.isSimple},on:{change:t.changePage},model:{value:t.current,callback:function(e){t.current=e},expression:"current"}}),t._v(" "),e("vue-good-table",{ref:"idol-table",attrs:{columns:t.columns,rows:t.rows,"sort-options":{enabled:!1,initialSortBy:{field:"date",type:"desc"}},"style-class":"vgt-table striped condensed"},on:{"on-cell-click":t.onCellClick}},[e("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[t._v("\n      「追加」から、チェキの情報を追加してください。\n    ")])]),t._v(" "),e("div",{staticClass:"buttons mt-3"},[e("b-button",{attrs:{type:"is-link is-light"},on:{click:function(e){return t.$router.push("/mypage/add/"+t.$route.params.uid)}}},[t._v("追加")]),t._v(" "),e("b-button",{attrs:{type:"is-link is-light"},on:{click:function(e){return t.$router.push("/mypage")}}},[t._v("戻る")])],1)],1):t._e()}),[],!1,null,null,null);e.default=component.exports}}]);