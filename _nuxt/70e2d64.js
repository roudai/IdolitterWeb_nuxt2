(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{341:function(t,e,r){var content=r(362);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(60).default)("4f809d31",content,!0,{sourceMap:!1})},361:function(t,e,r){"use strict";r(341)},362:function(t,e,r){var o=r(59)((function(i){return i[1]}));o.push([t.i,"button.social{width:185px}",""]),o.locals={},t.exports=o},380:function(t,e,r){"use strict";r.r(e);var o=r(5),n=(r(39),r(30),r(57),r(97)),c={data:function(){return{labelPosition:"on-border",email:"",password:"",passwordType:"",passwordMessage:["10文字以上64文字以内","英数字と記号をどちらも含む"],errorShow:!1,errorMessage:""}},watch:{password:function(t){/^(?=.*[\w])(?=.*[ -/:-@[-_])[\w -/:-@[-_]{10,64}$/.test(t)?(this.passwordType="",this.passwordMessage=[]):0===t.length?(this.passwordType="",this.passwordMessage=["10文字以上64文字以内","英数字と記号をどちらも含む"]):/^(?=.*[\w])(?=.*[ -/:-@[-_])[\w -/:-@[-_]/.test(t)?(this.passwordType="is-danger",this.passwordMessage=["10文字以上64文字以内"]):/[!-~]{10,64}/.test(t)?(this.passwordType="is-danger",this.passwordMessage=["英数字と記号をどちらも含む"]):(this.passwordType="is-danger",this.passwordMessage=["10文字以上64文字以内","英数字と記号をどちらも含む"])}},beforeCreate:function(){var t=this;setTimeout((function(){t.$store.getters["auth/isLoggedIn"]&&t.$router.push("/mypage")}),0)},methods:{toRedirectTwitter:function(){var t=Object(n.e)(),e=new n.c;Object(n.h)(t,e),this.$router.push("/auth/redirect/twitter")},toRedirectGoogle:function(){var t=Object(n.e)(),e=new n.b;e.addScope("email"),Object(n.h)(t,e),this.$router.push("/auth/redirect/google")},toRedirectGithub:function(){var t=Object(n.e)(),e=new n.a;Object(n.h)(t,e),this.$router.push("/auth/redirect/github")},userRegistration:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.emailAndPasswordCheck()){e.next=2;break}return e.abrupt("return");case 2:return r=Object(n.e)(),e.next=5,Object(n.d)(r,t.email,t.password).then((function(e){t.$store.dispatch("auth/login",{userCredential:e})})).catch((function(){t.errorShow=!0,t.errorMessage="このメールアドレスは会員登録済みです。"}));case 5:case"end":return e.stop()}}),e)})))()},userLogin:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.emailAndPasswordCheck()){e.next=2;break}return e.abrupt("return");case 2:return r=Object(n.e)(),e.next=5,Object(n.g)(r,t.email,t.password).then((function(e){t.$store.dispatch("auth/login",{userCredential:e})})).catch((function(){t.errorShow=!0,t.errorMessage="メールアドレスまたはパスワードが間違っています。ユーザー未登録の場合は、会員登録を行ってください。"}));case 5:case"end":return e.stop()}}),e)})))()},emailAndPasswordCheck:function(){return/^[a-zA-Z0-9_+-]+(\.[a-zA-Z0-9_+-]+)*@([a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]*\.)+[a-zA-Z]{2,}$/.test(this.email)?!!/^(?=.*[a-zA-Z0-9])(?=.*[ -/:-@[-_])[a-zA-Z0-9 -/:-@[-_]{10,64}$/.test(this.password)||(this.errorShow=!0,this.errorMessage="パスワードは10文字以上64文字以内で、英数字と記号をどちらも含んでください。",!1):(this.errorShow=!0,this.errorMessage="正しくメールアドレスを入力してください。",!1)}}},l=(r(361),r(38)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"columns"},[e("div",{staticClass:"column is-3"},[e("h5",[t._v("メールアドレスでログイン")]),t._v(" "),e("b-field",{attrs:{label:"メールアドレス","label-position":t.labelPosition}},[e("b-input",{attrs:{type:"email",placeholder:"email@example.com"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),e("b-field",{attrs:{label:"パスワード",type:t.passwordType,"label-position":t.labelPosition,message:t.passwordMessage}},[e("b-input",{attrs:{type:"password",maxlength:"64","password-reveal":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.errorShow,expression:"errorShow"}],staticClass:"notification is-danger is-light"},[t._v("\n        "+t._s(t.errorMessage)+"\n      ")]),t._v(" "),e("b-button",{attrs:{type:"is-info is-light"},on:{click:t.userLogin}},[t._v("ログイン")]),t._v(" "),e("b-button",{attrs:{type:"is-info is-light"},on:{click:t.userRegistration}},[t._v("会員登録")])],1),t._v(" "),e("div",{staticClass:"column is-3"},[e("h5",[t._v("SNSでログイン")]),t._v(" "),e("div",[e("button",{staticClass:"button mb-3 social",staticStyle:{color:"#ffffff","background-color":"#1da1f2"},on:{click:t.toRedirectTwitter}},[e("b-icon",{attrs:{icon:"twitter"}}),t._v(" "),e("span",[t._v("Twitterでログイン")])],1)]),t._v(" "),e("div",[e("button",{staticClass:"button mb-3 social",staticStyle:{color:"#ffffff","background-color":"#4285f4"},on:{click:t.toRedirectGoogle}},[e("b-icon",{attrs:{icon:"google"}}),t._v(" "),e("span",[t._v("Googleでログイン")])],1)]),t._v(" "),e("div",[e("button",{staticClass:"button mb-3 social",staticStyle:{color:"#ffffff","background-color":"#000000"},on:{click:t.toRedirectGithub}},[e("b-icon",{attrs:{icon:"github"}}),t._v(" "),e("span",[t._v("GitHubでログイン")])],1)])])]),t._v(" "),e("div",{staticClass:"notification is-success is-light"},[t._v("\n    アイドリッターの認証は、ユーザーの識別のために使用されます。\n    ツイッターの認証はアプリケーションは読み取り権限しか取得しないため、ツイート、フォロー、DM送信等を勝手に行うことはありません。\n    個人情報の取り扱いについては、"),e("nuxt-link",{attrs:{to:"/policy"}},[t._v("プライバシーポリシー")]),t._v("をご参照ください。\n  ")],1)])}),[],!1,null,null,null);e.default=component.exports}}]);